<div class="d-flex mt-4 " >
    <button type="button" class="btn btn-primary " id="openModal" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
        Yeni Kayıt
      </button>
      <button (click)="toggleProductCategory()">
          Ürün Kategori eşleştirme
      </button>
</div>
<div *ngIf="isVisibleProductCategory" class="from-group">
  <select class="form-control mt-4" id="productId">
      <option>Ürünü Seçiniz</option>
      <option *ngFor="let product of products" value="{{product.id}}">{{product.name}}</option>
  </select>

  <select class="form-control mt-4" id="categoryId">
    <option>Kategori Seçiniz</option>
    <option *ngFor="let category of categories" value="{{category.id}}">{{category.name}}</option>
</select>
<button (click)="createProductCategory()">Kaydet</button>
</div>
  
<div class="mx-4">
<table class="table table-bordered mt-4 ">
  <thead>
    <tr>
      <th>Ürün Kodu</th>
      <th>Ürün Adı</th>
      <th>Ürün Açıklaması</th>
      <th>Ürün Fiyatı</th>
      <th>Ürün Foto</th>
      <th>Kategorileri</th>
      <th>İşlemler</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let productCategory of productWithCategories">
      <td>{{productCategory.code}}</td>
      <td>{{productCategory.name}}</td>
      <td>{{productCategory.description}}</td>
      <td>{{productCategory.price}}</td>
      <td><img src="../../../assets/images/{{productCategory.imageUrl}}" width="100"></td>
      <td>
        <div  style="border:1px solid lightgaray;color:white" *ngFor="let productCategory of productCategory.productCategories" class="badge text-dark">
            <div >
                  {{productCategory.category.name}}
                  <button class="btn btn-outline-danger btn-sm" (click)="deleteProductCategoryById(productCategory.id)">
                    <i class="fa fa-trash"></i>
                  </button>
            </div>

        </div>

      </td>
      <td>
        <button (click)="getProductCategory(productCategory)" class="btn btn-outline-warning btn-sm mx-4">
          <i class="fa fa-pen"></i>
        </button>
        <button class="btn btn-outline-danger btn-sm" (click)="deleteById(productCategory.id)">
          <i class="fa fa-trash"></i>
        </button>
      </td>
    </tr>
  </tbody>
</table>

</div>
<app-productcategory-add [isUpdate]="isUpdate"></app-productcategory-add>